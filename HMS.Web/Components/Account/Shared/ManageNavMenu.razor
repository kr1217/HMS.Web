@using Microsoft.AspNetCore.Identity
@using HMS.Web.Data

@inject SignInManager<ApplicationUser> SignInManager

<RadzenPanelMenu Style="width: 100%;">
    <RadzenPanelMenuItem Text="Personnel Profile" Icon="account_circle" Path="Account/Manage"
        Match="NavLinkMatch.All" />
    <RadzenPanelMenuItem Text="Institutional Email" Icon="email" Path="Account/Manage/Email" />
    <RadzenPanelMenuItem Text="Security Keys" Icon="lock" Path="Account/Manage/ChangePassword" />
    @if (hasExternalLogins)
    {
        <RadzenPanelMenuItem Text="External Federation" Icon="hub" Path="Account/Manage/ExternalLogins" />
    }
    <RadzenPanelMenuItem Text="2-Factor Auth" Icon="security" Path="Account/Manage/TwoFactorAuthentication" />
    <RadzenPanelMenuItem Text="Biometric Passkeys" Icon="fingerprint" Path="Account/Manage/Passkeys" />
    <RadzenPanelMenuItem Text="Registry Data" Icon="dataset" Path="Account/Manage/PersonalData" />
</RadzenPanelMenu>

@code {
    private bool hasExternalLogins;

    protected override async Task OnInitializedAsync()
    {
        hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
    }
}
