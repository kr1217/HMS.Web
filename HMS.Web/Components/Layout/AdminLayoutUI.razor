@using Radzen.Blazor
@using Microsoft.AspNetCore.Components.Authorization
@using HMS.Web.Components.Shared
@using static Microsoft.AspNetCore.Components.Web.RenderMode
@rendermode InteractiveServer
@inject NavigationManager NavigationManager
@inject HMS.Web.DAL.FinanceRepository FinanceRepo
@inject IJSRuntime JSRuntime

<RadzenHeader Style="background: var(--rz-primary-dark);">
    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center"
        JustifyContent="JustifyContent.SpaceBetween" Class="rz-px-4 rz-py-2" Gap="0">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="2">
            <RadzenSidebarToggle Click="@(() => sidebarExpanded = !sidebarExpanded)" />
            <RadzenIcon Icon="health_and_safety" Style="font-size: 2rem; color: white;" />
            <RadzenText Text="HMS Admin Portal" TextStyle="TextStyle.H6" Class="rz-m-0" Style="color: white;" />
        </RadzenStack>

        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="3">
            <RadzenStack Class="rz-display-none rz-display-md-flex">
                <ShiftWidget />
            </RadzenStack>
            <NotificationBell TargetRole="Admin" />
            <RadzenProfileMenu>
                <Template>
                    <RadzenIcon Icon="account_circle" Style="color: white;" />
                </Template>
                <ChildContent>
                    <RadzenProfileMenuItem Text="Profile" Icon="person" Path="Account/Manage" />
                    <RadzenProfileMenuItem Text="Logout" Icon="logout" Path="Account/Logout" />
                </ChildContent>
            </RadzenProfileMenu>
        </RadzenStack>
    </RadzenStack>
</RadzenHeader>

<RadzenSidebar @bind-Expanded="@sidebarExpanded">
    <AdminNavMenu />
</RadzenSidebar>

<RadzenComponents />

@code {
    bool sidebarExpanded = true;
}
